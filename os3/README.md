# os3
第三个任务：在保护模式中加载一个磁盘中的程序<br>
这部分关键在于GDT表项的设置<br>

保护模式的重要特点之一就是加入了全局描述符表（global descriptor table，GDT）<br>
这张表中有若干个段描述符，每个段描述符为8字节，里面存放了段基址、段限长和各种控制字段。<br>
GDT其实是一个数据结构，存放在内存中<br>
芯片通过一个控制寄存器gdtr来存放段描述符的所在地址<br>
在开机的时候通过汇编指令lgdt，可以将gdt所在地址加载到寄存器gdtr中。<br>

平常我们所说的六个段寄存器cs，ss，ds，es，fs和gs，其实是存放16位长的段选择符（段选择子）<br>
段选择符中3到15位存放的是索引号，这个索引号就是全局描述符表中的第几个段<br>
通过段寄存器可以快速选择存储在全局描述符表中的某个段。<br>

对于某个逻辑地址，它是由段寄存器中的段选择符和我们看到的偏移量组成，将当前段寄存器指向的段描述符中基址拿出来，加上偏移量，即可得到该逻辑地址对应的线性地址。<br>
在linux中，段描述符的基址全部改为0，也就是说逻辑地址等于线性地址，实际上相当于并没有启动分段机制。<br>

